ターミナル実行
gcloud auth login
gcloud config set project "sunspira"
gcloud services enable run.googleapis.com artifactregistry.googleapis.com cloudbuild.googleapis.com secretmanager.googleapis.com aiplatform.googleapis.com workflows.googleapis.com iam.googleapis.com

# FastAPIバックエンドAPI用のサービスアカウント
gcloud iam service-accounts create backend-api-sa --display-name="SUNSPIRA Backend API SA"

# Celery非同期ワーカー用のサービスアカウント
gcloud iam service-accounts create celery-worker-sa --display-name="SUNSPIRA Celery Worker SA"

# Next.jsフロントエンド用のサービスアカウント
gcloud iam service-accounts create frontend-sa --display-name="SUNSPIRA Frontend SA"

# "your-mongodb-connection-string" の部分を、
# 実際に使用するMongoDB Atlasの接続文字列に置き換えてください。
# 実行すると、文字列の入力を求められます。
echo -n "your-mongodb-connection-string" | gcloud secrets create sunspira-mongo-connection-string --data-file=- --replication-policy="automatic"


mongodb
youshinh@gmail.com
FYnYAFz34YlNeSns

sunspira_user
aKM7KEDeYgv1n0jd

接続文字列雛形
mongodb+srv://<db_username>:<db_password>@cluster0.3q5szia.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0

実際の接続文字列
mongodb+srv://sunspira_user:aKM7KEDeYgv1n0jd@cluster0.3q5szia.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0

# "mongodb+srv://..." の部分を、あなたがコピーしてパスワードを編集した文字列に置き換えます
echo -n "mongodb+srv://sunspira_user:aKM7KEDeYgv1n0jd@cluster0.3q5szia.mongodb.net/?retryWrites=true&w=majority" | gcloud secrets create sunspira-mongo-connection-string --data-file=- --replication-policy="automatic"